-- ðŸ”¥ xxxxxTheFox | Aimbot Ø§Ù„Ù…Ø±Ø¶ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ðŸ”¥ Ø¨Ø¯ÙˆÙ† Ù…ÙØªØ§Ø­

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local VirtualUser = game:GetService("VirtualUser")

local lp = Players.LocalPlayer
local cam = Workspace.CurrentCamera
local fovCircle
local lastTarget = nil

-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
getgenv().settings = {
    enable_aimbot = true,
    aimbot_target_part = "Head",
    fov = 120,
    drawFov = true,
    wallCheck = true,
    teamCheck = true,
    enable_prediction = true,
    predictionFactor = 0.147,
    enable_autoattack = true,
    aim_stickiness = true,
    enable_protection = true
}

-- Ø­Ù…Ø§ÙŠØ©
pcall(function()
    if getgenv().settings.enable_protection then
        hookfunction(math.random, function(...) return 1 end)
        hookfunction(tick, function() return 0 end)
    end
end)

local function isEnemy(p)
    return not getgenv().settings.teamCheck or p.Team ~= lp.Team
end

local function isAlive(p)
    local c = p.Character
    return c and c:FindFirstChild("Humanoid") and c.Humanoid.Health > 0
end

local function isVisible(part)
    if not getgenv().settings.wallCheck then return true end
    local origin = cam.CFrame.Position
    local dir = part.Position - origin
    local params = RaycastParams.new()
    params.FilterDescendantsInstances = {lp.Character, part.Parent}
    params.FilterType = Enum.RaycastFilterType.Blacklist
    local hit = Workspace:Raycast(origin, dir, params)
    return not hit
end

local function inFov(pos)
    local screenPos, vis = cam:WorldToViewportPoint(pos)
    if not vis then return false end
    local center = Vector2.new(cam.ViewportSize.X / 2, cam.ViewportSize.Y / 2)
    local dist = (Vector2.new(screenPos.X, screenPos.Y) - center).Magnitude
    return dist <= math.clamp(getgenv().settings.fov * 4, 5, 2000)
end

local function getTarget()
    local best, closest = nil, math.huge
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= lp and isEnemy(p) and isAlive(p) then
            local part = p.Character and p.Character:FindFirstChild(getgenv().settings.aimbot_target_part)
            if part and isVisible(part) and inFov(part.Position) then
                local screen = cam:WorldToViewportPoint(part.Position)
                local dist = (Vector2.new(screen.X, screen.Y) - cam.ViewportSize / 2).Magnitude
                if dist < closest then
                    closest = dist
                    best = part
                end
            end
        end
    end
    return best
end

local function predict(part)
    local vel = part.Velocity or Vector3.zero
    local dist = (cam.CFrame.Position - part.Position).Magnitude
    local factor = getgenv().settings.predictionFactor * (dist / 100)
    return getgenv().settings.enable_prediction and (part.Position + vel * factor) or part.Position
end

local function fireLoop()
    VirtualUser:Button1Down(Vector2.zero, cam.CFrame)
    task.wait()
    VirtualUser:Button1Up(Vector2.zero, cam.CFrame)
end

local function drawFov()
    if getgenv().settings.drawFov then
        if not fovCircle then
            fovCircle = Drawing.new("Circle")
            fovCircle.Thickness = 2
            fovCircle.Filled = false
            fovCircle.Color = Color3.fromRGB(255, 0, 0)
        end
        fovCircle.Visible = true
        fovCircle.Position = Vector2.new(cam.ViewportSize.X / 2, cam.ViewportSize.Y / 2)
        fovCircle.Radius = math.clamp(getgenv().settings.fov * 4, 5, 2000)
    elseif fovCircle then
        fovCircle.Visible = false
    end
end

RunService.RenderStepped:Connect(function()
    if not getgenv().settings.enable_aimbot then return end
    drawFov()

    local target = getTarget()
    if getgenv().settings.aim_stickiness and lastTarget and isAlive(lastTarget.Parent) then
        target = lastTarget
    else
        lastTarget = target
    end

    if target then
        local aimPos = predict(target)
        cam.CFrame = CFrame.new(cam.CFrame.Position, aimPos)
        if getgenv().settings.enable_autoattack then fireLoop() end
    end
end)

print("âœ… Aimbot Ø§Ù„Ù…Ø±Ø¶ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ØªÙ… ØªÙØ¹ÙŠÙ„Ù‡ | Ø¨Ø¯ÙˆÙ† Ù…ÙØªØ§Ø­ Ø­Ø°Ù ðŸ’€")
